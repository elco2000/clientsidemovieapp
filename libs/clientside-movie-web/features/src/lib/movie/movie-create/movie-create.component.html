<div class="mx-20 h-screen">
  <div
    class="max-w mt-10 mb-10 p-5 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
  >
    <form
      [formGroup]="movieForm"
      (ngSubmit)="onSubmit()"
      enctype="multipart/form-data"
    >
      <div>
        <h2 class="text-lg text-black font-medium">Create movie</h2>
      </div>

      <br />

      <div>
        <label for="title" class="block text-sm text-black">Title</label>

        <input
          type="text"
          id="title"
          formControlName="title"
          placeholder="John Doe"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
        <div
          *ngIf="movieForm.get('title')?.errors?.['required']"
          class="text-red-500"
        >
          Title is required
        </div>
      </div>

      <div>
        <label for="photo" class="block text-sm text-black">Photo</label>

        <input
          type="text"
          formControlName="photo"
          placeholder="url"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
        <div
          *ngIf="movieForm.get('photo')?.errors?.['required']"
          class="text-red-500"
        >
          Photo is required
        </div>
      </div>

      <div>
        <label for="number" class="block text-sm text-black"
          >Length (minutes)</label
        >

        <input
          type="number"
          formControlName="length"
          placeholder="... minutes"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
        <div
          *ngIf="movieForm.get('length')?.errors?.['required']"
          class="text-red-500"
        >
          Length is required
        </div>
        <div
          *ngIf="movieForm.get('length')?.errors?.['min']"
          class="text-red-500"
        >
          Length must be at least 1
        </div>
      </div>

      <div>
        <label for="relaseDate" class="block text-sm text-black"
          >Release date</label
        >

        <input
          type="date"
          formControlName="releaseDate"
          placeholder="John Doe"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
      </div>

      <div>
        <label for="advicedAge" class="block text-sm text-black"
          >Adviced age</label
        >

        <input
          type="number"
          formControlName="advicedAge"
          placeholder="18+"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
        <div
          *ngIf="movieForm.get('advicedAge')?.errors?.['required']"
          class="text-red-500"
        >
          Adviced age is required
        </div>
        <div
          *ngIf="movieForm.get('advicedAge')?.errors?.['min']"
          class="text-red-500"
        >
          Adviced age must be at least 1
        </div>
      </div>

      <div>
        <label for="genre" class="block text-sm text-black">Genre</label>
        <select
          id="genre"
          formControlName="genre"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        >
          <option *ngFor="let genre of genreList" [value]="genre">
            {{ genre }}
          </option>
        </select>
        <div
          *ngIf="movieForm.get('genre')?.errors?.['required']"
          class="text-red-500"
        >
          Genre is required
        </div>
      </div>

      <div>
        <label for="language" class="block text-sm text-black">Language</label>
        <select
          id="language"
          formControlName="language"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        >
          <option *ngFor="let language of languageList" [value]="language">
            {{ language }}
          </option>
        </select>
        <div
          *ngIf="movieForm.get('language')?.errors?.['required']"
          class="text-red-500"
        >
          Language is required
        </div>
      </div>

      <div>
        <label for="director" class="block text-sm text-black">Director</label>

        <input
          type="text"
          formControlName="director"
          placeholder="John Doe"
          class="block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"
        />
        <div
          *ngIf="movieForm.get('director')?.errors?.['required']"
          class="text-red-500"
        >
          Director is required
        </div>
      </div>

      <div>
        <label for="actors" class="block text-sm text-black mt-2">Actors</label>

        <!-- Dropdown menu -->
        <div
          id="dropdownSearch"
          class="z-10 bg-white rounded-lg shadow w-60 dark:bg-gray-700"
        >
          <ul
            class="h-48 px-3 pb-3 overflow-y-auto text-sm text-gray-700 dark:text-gray-200"
            aria-labelledby="dropdownSearchButton"
          >
            <li *ngFor="let actor of actors">
              <div
                class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"
              >
                <input
                  type="checkbox"
                  [id]="'checkbox-item-' + actor._id"
                  [checked]="selectedActors[actor._id]"
                  (change)="toggleActorSelection(actor._id)"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"
                />
                <label
                  for="checkbox-item-11"
                  class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300"
                  >{{ actor.name }}</label
                >
              </div>
            </li>
          </ul>
        </div>
      </div>

      <br />

      <button
        type="submit"
        [disabled]="!movieForm.valid"
        [class.disabled]="!movieForm.valid"
        class="px-6 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80"
      >
        Submit
      </button>
    </form>
  </div>
</div>
