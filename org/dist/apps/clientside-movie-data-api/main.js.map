{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///external commonjs \"@nestjs/common\"","webpack:///external commonjs \"@nestjs/core\"","webpack:///./src/app/app.module.ts","webpack:///external commonjs \"tslib\"","webpack:///./src/app/app.controller.ts","webpack:///./src/app/app.service.ts","webpack:///../../libs/backend/features/src/index.ts","webpack:///../../libs/backend/features/src/lib/backend-features-movie.module.ts","webpack:///external commonjs \"@nestjs/mongoose\"","webpack:///../../libs/backend/features/src/lib/movie/movie.controller.ts","webpack:///../../libs/backend/features/src/lib/movie/movie.service.ts","webpack:///external commonjs \"rxjs\"","webpack:///../../libs/backend/features/src/lib/movie/movie.schema.ts","webpack:///external commonjs \"mongoose\"","webpack:///../../libs/backend/dto/src/index.ts","webpack:///../../libs/backend/dto/src/lib/dto.module.ts","webpack:///../../libs/backend/dto/src/lib/movie.dto.ts","webpack:///external commonjs \"class-validator\"","webpack:///../../libs/backend/dto/src/lib/api-respone.interceptor.ts","webpack:///external commonjs \"rxjs/operators\"","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","import { Module } from '@nestjs/common';\r\n\r\nimport { AppController } from './app.controller';\r\nimport { AppService } from './app.service';\r\nimport { BackendFeaturesMovieModule } from '@org/backend/features';\r\n\r\n@Module({\r\n  imports: [BackendFeaturesMovieModule],\r\n  controllers: [AppController],\r\n  providers: [AppService],\r\n})\r\nexport class AppModule {}\r\n","module.exports = require(\"tslib\");","import { Controller, Get } from '@nestjs/common';\n\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Hello API' };\n  }\n}\n","export * from './lib/backend-features-movie.module';\r\nexport * from './lib/movie/movie.schema';","import { MongooseModule } from '@nestjs/mongoose';\r\nimport { Module } from '@nestjs/common';\r\nimport { MovieController } from './movie/movie.controller';\r\nimport { MovieService } from './movie/movie.service';\r\nimport { Movie, MovieSchema } from './movie/movie.schema';\r\n\r\n@Module({\r\n  controllers: [MovieController],\r\n  providers: [MovieService],\r\n  imports: [MongooseModule.forRoot('mongodb+srv://elcoAdmin:Admin123Database@clusterlocaldataapi.m0cwagc.mongodb.net/'), MongooseModule.forFeature([{ name: Movie.name, schema: MovieSchema}]) ],\r\n  exports: [MovieService],\r\n})\r\nexport class BackendFeaturesMovieModule {}\r\n","module.exports = require(\"@nestjs/mongoose\");","import { Controller, Delete, Put } from '@nestjs/common';\r\nimport { Get, Param, Post, Body } from '@nestjs/common';\r\nimport { MovieService } from './movie.service';\r\nimport { CreateMovieDto } from '@org/backend/dto';\r\nimport { Movie } from './movie.schema';\r\n\r\n@Controller('movie')\r\nexport class MovieController {\r\n    constructor(private movieService: MovieService) {}\r\n\r\n    @Get('')\r\n    async getAll(): Promise<Movie[]> {\r\n        return this.movieService.getAll();\r\n    }\r\n\r\n    @Get(':id')\r\n    async getOne(@Param('id') id: string): Promise<Movie> {\r\n        return this.movieService.getOne(id);\r\n    }\r\n\r\n    @Post('')\r\n    async create(@Body() data: CreateMovieDto): Promise<Movie> {\r\n        return this.movieService.create(data);\r\n    }\r\n\r\n    @Put(':id')\r\n    async update(@Body() data: Movie): Promise<Movie | null> {\r\n        return this.movieService.edit(data);\r\n    }\r\n\r\n    @Delete(':id')\r\n    async delete(@Param('id') id: string): Promise<Movie> {\r\n        return this.movieService.delete(id);\r\n    }\r\n}\r\n","import { Injectable, Logger, NotFoundException } from '@nestjs/common';\r\nimport { IMovie } from '@org/shared/api';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Movie } from './movie.schema';\r\nimport mongoose, { Model } from 'mongoose';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { CreateMovieDto } from '@org/backend/dto';\r\n\r\n@Injectable()\r\nexport class MovieService {\r\n  TAG = 'MovieService';\r\n\r\n  private movies$ = new BehaviorSubject<IMovie[]>([\r\n    {\r\n      id: '0',\r\n      title: 'Test Film',\r\n      photo: '',\r\n      length: 55,\r\n      releaseDate: new Date(),\r\n      advicedAge: 12,\r\n      genre: 'Action',\r\n      language: 'Dutch',\r\n      director: 'Elco Mussert',\r\n    },\r\n  ]);\r\n\r\n  constructor(@InjectModel(Movie.name) private movieModel: Model<Movie>) {}\r\n\r\n  async getAll(): Promise<Movie[]> {\r\n    Logger.log('getAll', this.TAG);\r\n    return this.movieModel.find().exec();\r\n  }\r\n\r\n  async getOne(id: string): Promise<Movie> {\r\n    Logger.log(`getOne(${id})`, this.TAG);\r\n    try {\r\n      const movie = await this.movieModel.findById(id).exec();\r\n      if (!movie) {\r\n        throw new NotFoundException(`Movie not found for ID: ${id}`);\r\n      }\r\n      return movie;\r\n    } catch (error) {\r\n      Logger.error(`Error fetching movie: ${error}`);\r\n      throw new Error(`Error fetching movie: ${error}`);\r\n    }\r\n  }\r\n\r\n  async create(movie: CreateMovieDto): Promise<Movie> {\r\n    Logger.log('create', this.TAG);\r\n\r\n    const newMovie = new this.movieModel(movie);\r\n\r\n    newMovie._id = new mongoose.Types.ObjectId().toString();\r\n\r\n    return newMovie.save();\r\n  }\r\n\r\n  async edit(movie: Movie): Promise<Movie | null> {\r\n    Logger.log('edit', this.TAG);\r\n  \r\n    const editedMovie = { ...movie };\r\n  \r\n    try {\r\n      const updatedMovie = await this.movieModel.findByIdAndUpdate(editedMovie._id, editedMovie, { new: true }).exec();\r\n  \r\n      return updatedMovie ?? null;\r\n    } catch (error) {\r\n      Logger.error(`Error editing movie: ${error}`);\r\n      throw new Error(`Error editing movie: ${error}`);\r\n    }\r\n  }\r\n\r\n  async delete(id: string): Promise<Movie> {\r\n    Logger.log('delete', this.TAG);\r\n    const movie = await this.movieModel.findByIdAndDelete(id).exec();\r\n    if (!movie) {\r\n      throw new NotFoundException(`Movie not found for ID: ${id}`);\r\n    }\r\n\r\n    return movie;\r\n  }\r\n}\r\n","module.exports = require(\"rxjs\");","import { Prop, Schema, SchemaFactory } from \"@nestjs/mongoose\";\r\nimport mongoose, { HydratedDocument } from \"mongoose\";\r\n\r\nexport type MovieDocument = HydratedDocument<Movie>;\r\n\r\n@Schema()\r\nexport class Movie {\r\n\r\n    @Prop({type: mongoose.Schema.Types.ObjectId})\r\n    _id!: string;\r\n\r\n    @Prop()\r\n    title!: string;\r\n\r\n    @Prop()\r\n    photo!: string;\r\n\r\n    @Prop()\r\n    length!: number;\r\n\r\n    @Prop()\r\n    releaseDate!: Date;\r\n\r\n    @Prop()\r\n    advicedAge!: number;\r\n\r\n    @Prop()\r\n    genre!: string\r\n\r\n    @Prop()\r\n    language!: string\r\n\r\n    @Prop()\r\n    director!: string;\r\n}\r\n\r\nexport const MovieSchema = SchemaFactory.createForClass(Movie);","module.exports = require(\"mongoose\");","export * from './lib/dto.module';\r\nexport * from './lib/movie.dto';\r\nexport * from './lib/api-respone.interceptor';\r\n","import { Module } from '@nestjs/common';\n\n@Module({\n  controllers: [],\n  providers: [],\n  exports: [],\n})\nexport class DtoModule {}\n","import {\r\n    IsNotEmpty,\r\n    IsString,\r\n    IsOptional,\r\n    IsDate,\r\n    IsNumber,\r\n} from 'class-validator';\r\nimport {\r\n    ICreateMovie,\r\n    IUpdateMovie,\r\n} from '@org/shared/api';\r\n\r\nexport class CreateMovieDto implements ICreateMovie {\r\n\r\n    constructor(data: Partial<CreateMovieDto>) { Object.assign(this, data) }\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    title!: string;\r\n\r\n    @IsNotEmpty()\r\n    photo!: string;\r\n\r\n    @IsNumber()\r\n    @IsNotEmpty()\r\n    length!: number;\r\n\r\n    @IsDate()\r\n    @IsOptional()\r\n    releaseDate!: Date;\r\n\r\n    @IsNumber()\r\n    @IsNotEmpty()\r\n    advicedAge!: number;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    genre!: string;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    language!: string;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    director!: string;\r\n}\r\n\r\nexport class UpdateMovieDto implements IUpdateMovie {\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    id!: string;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    title!: string;\r\n\r\n    @IsNotEmpty()\r\n    photo!: string;\r\n\r\n    @IsNumber()\r\n    @IsNotEmpty()\r\n    length!: number;\r\n\r\n    @IsDate()\r\n    @IsOptional()\r\n    releaseDate!: Date;\r\n\r\n    @IsNumber()\r\n    @IsNotEmpty()\r\n    advicedAge!: number;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    genre!: string;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    language!: string;\r\n\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    director!: string;\r\n}","module.exports = require(\"class-validator\");","import { ApiResponse } from '@org/shared/api';\r\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\r\nimport { Observable } from 'rxjs'; \r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ApiResponseInterceptor implements NestInterceptor {\r\n    \r\n    intercept(\r\n        context: ExecutionContext,\r\n        next: CallHandler\r\n    ): Observable<ApiResponse<unknown>> {\r\n        return next.handle().pipe(\r\n            map((results) => {\r\n                if (results) {\r\n                    return {\r\n                        results,\r\n                        info: {\r\n                            version: '1.0',\r\n                            type: results instanceof Array ? 'list' : 'object',\r\n                            count:\r\n                                results instanceof Array ? results.length : 1,\r\n                        },\r\n                    };\r\n                } else {\r\n                    return {\r\n                        results: undefined,\r\n                        info: {\r\n                            version: '1.0',\r\n                            type: 'none',\r\n                            count: 0,\r\n                        },\r\n                    };\r\n                }\r\n            })\r\n        );\r\n    }\r\n}","module.exports = require(\"rxjs/operators\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport { Logger } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { CorsOptions } from '@nestjs/common/interfaces/external/cors-options.interface';\r\n\r\nimport { ApiResponseInterceptor } from '@org/backend/dto';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n  const globalPrefix = 'api';\r\n  app.setGlobalPrefix(globalPrefix);\r\n\r\n  const corsOptions: CorsOptions = {\r\n    origin: '*'\r\n  };\r\n  app.enableCors(corsOptions);\r\n\r\n  app.useGlobalInterceptors(new ApiResponseInterceptor());\r\n\r\n  const port = process.env.PORT || 3000;\r\n  await app.listen(port);\r\n  Logger.log(\r\n    `🚀 Application is running on: http://localhost:${port}/${globalPrefix}`\r\n  );\r\n}\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}